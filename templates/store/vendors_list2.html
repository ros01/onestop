{% extends 'base2.html'%}
{% load static %}
{% block title%}| Vendors {% endblock %}
{% block styles %}

<link rel="stylesheet" type="text/css" href="{% static 'fontawesome-free-5.8.2-web/css/allt.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/dataTables.bootstrap4.min.css' %}" >
<link rel="stylesheet" type="text/css" href="{% static 'css/styles2.css' %}">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.20/datatables.min.css" >


{% endblock %}


{% block content %}

{% include "_modal.html" %}
<!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">

        <!-- Begin Page Content -->
        <div class="container">

          <!-- Page Heading -->
         <br><br><br>

          

          <button type="button" id="create-vendor" class="bs-modal btn btn-small btn-primary mt-1" data-form-url="{% url 'store:create_vendor' %}"><i class="fa fa-list text-white"></i> Add New Vendor</button><br>
          {% include 'partials/_alerts.html' %}



            <div class="table-responsive-lg">
                <table class="table table-striped table-bordered table-hover" id="mydata">
                    <thead>
                     <tr style="background: #41963F;">
                        <td style="color: #fff;" class="small-text">S/N</td>
                          <td style="color: #fff;" class="small-text">Name</td>
                          <td style="color: #fff;" class="small-text">Address</td>
                          <td style="color: #fff;" class="small-text">Phone</td>
                          <td style="color: #fff;" class="small-text">Email</td>
                          <td style="color: #fff;" class="small-text">Created On</td>
                          <td style="color: #fff;" class="small-text">Actions</td>
                       </tr>
                    </thead>
                      
                    
                     <tbody>
                       {% if vendor_qs %}
                         {% for object in vendor_qs %}
                         <tr>
                          <td>{{forloop.counter}}</td>
                           <td>{{object.vendor_name}}</td>
                           <td>{{object.address}}</td>
                           <td>{{object.phone}}</td>
                           <td>{{object.email}}</td>
                           <td>{{object.date_created_pretty}}</td>
                           <td>
                            <a class="btn btn-primary p-1" href="{% url 'store:vendor_detail' object.id %}"><i class="fa fa-folder-open text-white"></i></a>
                            <button type="button" id="update-vendor" class="bs-modal btn btn-small btn-warning mt-1 p-1" data-form-url="{% url 'store:vendor_update' object.pk %}"><i class="fas fa-redo"></i></button>
                            <a class="btn btn-danger p-1" href="{% url 'store:vendor_delete' object.id %}"><i class="fas fa-trash-alt"></i></a>

                          </td>

                         

                         </tr>

                        {% endfor %}
                     {% endif %}

                     
                     </tbody>



                  </table>
              </div>
             </div>
         </div>
      </div>


</div>


<!--Jquery plugin-->
     <script src="{% static 'js/jquery.js' %}"></script>
     
     <script src="{% static 'js/jquery.bootstrap.modal.forms.js' %}"></script>

     <script src="{% static 'js/dataTables.bootstrap4.min.js' %}"></script>
     <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.20/datatables.min.js"></script>



  <!--Jquery plugin-->
  <script type="text/javascript">
    $(function() {
    
        $(".bs-modal").each(function () {
          $(this).modalForm({
              formURL: $(this).data('form-url')
          });
        });
    
    });

</script>


  <!--other javascript plugins-->
  <script>
  let urlMenu = document.getElementById('dropdown');
  urlMenu.onchange = function(){
    let userOption = this.options[this.selectedIndex];
    if(userOption.value != "nothing"){
      window.open(userOption.value, "_self", "");
    }
  }
  </script>

  <script>
     // Example starter JavaScript for disabling form submissions if there are invalid fields
     (function () {
         'use strict';
         window.addEventListener('load', function () {
             // Fetch all the forms we want to apply custom Bootstrap validation styles to
             var forms = document.getElementsByClassName('needs-validation');
             // Loop over them and prevent submission
             var validation = Array.prototype.filter.call(forms, function (form) {
                 form.addEventListener('submit', function (event) {
                     if (form.checkValidity() === false) {
                         event.preventDefault();
                         event.stopPropagation();
                     }
                     form.classList.add('was-validated');
                 }, false);
             });
         }, false);
     })();
 </script>
 <script>
     let urlMenu = document.getElementById('dropdown');
     urlMenu.onchange = function(){
       let userOption = this.options[this.selectedIndex];
       if(userOption.value != "nothing"){
         window.open(userOption.value, "_self", "");
       }
     }
   </script>


   

    <script>
      $('#mydata').dataTable();
    </script>



{% endblock %}




