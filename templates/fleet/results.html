{% extends 'base0.html'%}
{% load static %}
{% load humanize %}
{% load crispy_forms_tags %}
{% block title%}| Refill Station Credit {% endblock %}

{% block styles %}
<link rel="stylesheet" type="text/css" href="{% static 'fontawesome-free-5.8.2-web/css/allt.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/styles2.css' %}">
<!-- <link rel="stylesheet" type="text/css" href="{% static 'bootstrap/css/bootstrap.min.css' %}"> -->
<link rel="stylesheet" href="{% static 'bootstrap/css/bootstrap.css' %}"> 
<link href="{% static 'css/mycustomcss.css' %}" rel="stylesheet">

<link href="{% static 'vendor/datatables/dataTables.bootstrap4.min.css' %}" rel="stylesheet">


{% endblock %}

                             
{% block content %}
{% include "_modal.html" %}


<main class="container">

{% if object %}
<br><br><br>

<div class="row pr-2 mr-2 pt-4 justify-content-center align-items-center"> <div class="col-md-11"> 
       
<p class="display-4 paragraph3 ml-2" style="color:#05567b;">Station Credit Refill Voucher Issue</p>
<hr>


  <!-- DataTales Example -->
  <div class="card shadow mb-2">
  <div class="card-header py-3">
  <h6 class="m-0 font-weight-bold text-info">Station Credit Restock</h6>
  </div>
  <div class="card-body">

  <div class="table-responsive-lg">
  <table class="table table-bordered table-hover" id="mydata">
  <thead class="text-info">
  <tr>
  <td class="small-text" width="05%">S/N</td>
  <td class="small-text" width="25%">Station Name</td>
  <td class="small-text" width="13%">Contact Name</td>
  <td class="small-text" width="15%">Address</td>
  <td class="small-text" width="10%">Phone</td>
  <td class="small-text" width="14%">Current Credit</td>
  <td class="small-text" width="12%">Last Updated</td>
  <td class="small-text" width="11%">Actions</td>
  </tr>
  </thead>

  <tbody>
  {% if object %}

                   

      <tr>
      <td>1.</td>
      <td width="26%">{{object.station_name}}</td>
      <td width="14%">{{object.contact_name}}</td>
      <td width="15%">{{object.address}}</td>
      <td width="10%">{{object.phone}}</td>
      <td width="12%">N {{object.station_credit| intcomma}}</td>
      <td width="12%">{{object.last_updated_pretty}}</td>
      <td width="11%">

                     
      <button type="button" id="restock-item" class="bs-modal btn btn-outline-warning btn-sm px-1" data-form-url="{% url 'fleet:restock_station_credit' object.id %}"></i> Restock Credit</button>

      </td>
      </tr>
                
  {% endif %}
  </tbody>
  </table>
  </div>
  </div>        
  </div>
  <br>
  <div class="mb-4" style="background-color: #bfe3f8; padding:5px; border-right:4px solid #ecd863; border-left:4px solid #ecd863"> <b>PLEASE NOTE:</b> Only stations already in the system can have their station credits restocked.  If this is a new station, kindly click on "Create New Station" button below to first create the station in the system before restocking.
  </div> 
  <hr> 
  <div class="d-flex justify-content-end">       
  <button type="button" id="create-station" class="bs-modal btn btn-primary mt-1 px-2 py-1" data-form-url="{% url 'fleet:create_station' %}"><i class="fa fa-list text-white"></i> Create New Station</button>
  </div>  
  </div>
  </div>           
  </div>       
{% else %}
  

  {% include "_modal.html" %}
<!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Content Wrapper -->
  <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
  <div id="content">

        <!-- Begin Page Content -->
  <div class="container">
  <br><br><br>
  <p class="display-4 paragraph3 ml-2" style="color:#05567b;">Station Credit Refill Voucher Issue</p>
  <hr>



  <!-- Page Heading -->
         

  {% include 'partials/_alerts.html' %}

  <!-- DataTales Example -->
  <div class="card shadow mb-4">
            
  <div class="card-body">
  <div class="row pr-2 mr-2 pt-4 justify-content-center align-items-center"> 
  <div class="col-md-11"> 
  <p class="display-4 paragraph3 ml-2" style="color:#05567b;">Restock Station Credit</p>
  <hr>
  <div class="row"> <div class="col-lg-6 col-md-12 col-sm-12 col-12 mb-3" style="padding-right:0; height:100%"> 
  <div class="mb-4" style="background-color: #bfe3f8; padding:5px; border-right:4px solid #ecd863; border-left:4px solid #ecd863"> <b>PLEASE NOTE:</b> To refill station credit, enter station name to retrieve stationm, click on retrieved station record to refill station credit and generate and Station Credit Refill Voucher. 
  </div> 
  <h4>Enter Station Name</h4>
  <span style="color:#F00"></span>
  <table width="100%">
  <td width="45%">
  <form method="get" action="/fleet/restock/">
         
  <div class="form-group">
  <input name="q" type="text" id="id_q"  class="form-control input-lg"  placeholder="Enter Station Name"  />
  </div>
  <div class="form-group col-xs-12 text-left">
  <button type="submit" value="Search" class="btn btn-success btn-lg pull-right"><i class="fa fa-search fa-fw"></i> Retrieve</button>
  </div>
  </form>
  </td>
  </table> 
  </div>
  </div> 
  </div> 
  <div class="col-md-2"> </div> </div> 


  </div>
  </div>

  </div>
  <!-- /.container-fluid -->

  </div>
  <!-- End of Main Content -->

  </div>
    <!-- End of Content Wrapper -->

  </div>
   <!-- End of Page Wrapper -->

{% endif %}



    


</main>



<script src="{% static 'js/jquery.js' %}"></script>
<script src="{% static 'js/jquery.bootstrap.modal.forms.js' %}"></script>
<script src="{% static 'js/bootstrap.min.js' %}"></script>







<script type="text/javascript">
    $(function() {
    
        $(".bs-modal").each(function () {
          $(this).modalForm({
              formURL: $(this).data('form-url')
          });
        });
    
    });

</script>







{% endblock %}



    
